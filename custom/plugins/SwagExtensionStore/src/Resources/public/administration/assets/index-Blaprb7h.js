const n='{% block sw_extension_store_slider %} <div class="sw-extension-store-slider sw-meteor-card" :class="[ cardClasses, `sw-extension-store-slider__slides-count-${usedSlideCount}` ]" > {% block sw_extension_store_slider_slides %} <div ref="movingImageWrapper" class="sw-extension-store-slider__slides"> {% block sw_extension_store_slider_loader %} <div v-if="!images" class="sw-extension-store-slider__loader"> <sw-loader /> </div> {% endblock %} <template v-else> {% block sw_extension_store_slider_slide_item %} <div v-for="img, key in images" :key="key" class="sw-extension-store-slider__slide-item" :class="slideClasses(key)" :data-key="key" :style="getActiveStyle(key)" > <img :src="img"> </div> {% endblock %} </template> </div> {% endblock %} {% block sw_extension_store_slider_navigation %} <div v-if="images.length > usedSlideCount" class="sw-extension-store-slider__navigation"> {% block sw_extension_store_slider_navigation_inner %} <button class="sw-extension-store-slider__btn-back" :disabled="isDisabledPrevious" @click="previous()"> {% block sw_extension_store_slider_navigation_inner_icon_left %} <mt-icon name="regular-chevron-left" size="20" /> {% endblock %} </button> <button class="sw-extension-store-slider__btn-next" :disabled="isDisabledNext" @click="next()"> {% block sw_extension_store_slider_navigation_inner_icon_right %} <mt-icon name="regular-chevron-right" size="20" /> {% endblock %} </button> {% endblock %} </div> {% endblock %} </div> {% endblock %}';const r={template:n,props:{images:{type:Array,required:!0},infinite:{type:Boolean,required:!1,default:!1},slideCount:{type:Number,required:!1,default:2},large:{type:Boolean,required:!1,default:!1}},data(){return{activeImgIndex:0,lastActiveImgIndex:null,isDirectionRight:null}},computed:{cardClasses(){return{"sw-card--large":this.large}},lastActive(){return this.activeImgIndex+this.usedSlideCount-1},isDisabledNext(){return this.isInfinite?!1:this.lastActive===this.images.length-1},isDisabledPrevious(){return this.isInfinite?!1:this.activeImgIndex===0},sliderHasOneImageMoreThanTheSlideCount(){return this.images.length===this.usedSlideCount+1},isInfinite(){return this.sliderHasOneImageMoreThanTheSlideCount?!1:this.infinite},usedSlideCount(){return this.slideCount>3?3:this.slideCount<1?1:this.slideCount}},methods:{getActiveStyle(e){if(!this.isActive(e))return{};const i=100/this.usedSlideCount;return this.isDirectionRight===null?{left:`${e*i}%`}:this.moveActiveImage(e,i)},moveActiveImage(e,i){if(e===this.activeImgIndex)return{left:"0%"};if(!this.$refs.movingImageWrapper)return{};const s=this.$refs.movingImageWrapper.querySelector(`[data-key="${e}"]`),t=parseInt(s.style.left,10);return Number.isNaN(t)?{left:`${100-i}%`}:{left:this.isDirectionRight?`${t-i}%`:`${t+i}%`}},next(){this.isDirectionRight=!0,this.changeSlide(1)},previous(){this.isDirectionRight=!1,this.changeSlide(-1)},changeSlide(e){if(this.lastActiveImgIndex=this.activeImgIndex,this.isInfinite){if(this.activeImgIndex===0&&!this.isDirectionRight){this.activeImgIndex=this.images.length-1;return}if(this.activeImgIndex===this.images.length-1&&this.isDirectionRight){this.activeImgIndex=0;return}}this.activeImgIndex+=e},isActive(e){let i=!1;for(let s=0;s<this.usedSlideCount;s+=1){if(i)return!0;i=this.activeImgIndex+s===e}return i||this.lastActive>this.images.length-1&&e<=this.lastActive-this.images.length},isNext(e){const i=this.activeImgIndex+this.usedSlideCount;return i===e||i>this.images.length-1&&i-this.images.length===e},slideClasses(e){return this.sliderHasOneImageMoreThanTheSlideCount?{"is--previous":e===0&&!this.isActive(e),"is--next":this.images.length-1===e&&!this.isActive(e),"is--active":this.isActive(e)}:{"is--previous":this.activeImgIndex-1===e||this.activeImgIndex===0&&e===this.images.length-1,"is--active":this.isActive(e),"is--next":this.isNext(e)}}}};export{r as default};
