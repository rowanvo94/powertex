const s='{% block sw_extension_store_listing %} <div class="sw-extension-store-listing"> {% block sw_extension_store_listing_loader %} <sw-loader v-if="isLoading" /> {% endblock %} <sw-extension-store-accessibility /> <sw-extension-store-statistics-promotion /> {% block sw_extension_store_listing_filter %} <sw-extension-store-listing-filter /> {% endblock %} {% block sw_extension_store_listing_grid %} <div class="sw-extension-store-listing__listing-grid"> <template v-for="extension in extensions" :key="extension.id"> {% block sw_extension_store_listing_card %} <sw-extension-listing-card :extension="extension" /> {% endblock %} </template> </div> {% endblock %} {% block sw_extension_store_listing_pagination %} <sw-pagination v-bind="{ total, page, limit }" @page-change="setPage" /> {% endblock %} </div> {% endblock %}',n={name:"sw-extension-store-listing",template:s,inject:["feature"],emits:["extension-listing-errors"],mixins:["sw-extension-error"],data(){return{isLoading:!1}},computed:{extensions(){return Shopware.Store.get("shopwareExtensions").extensionListing},currentSearch(){return Shopware.Store.get("shopwareExtensions").search},page(){return this.currentSearch.page},limit(){return this.currentSearch.limit},total(){return this.extensions.total||0},rating(){return this.currentSearch.rating},languageId(){return Shopware.Store.get("session").languageId},currentLocale(){return Shopware.Store.get("session").currentLocale==="de-DE"?"de":"en"}},watch:{currentSearch:{deep:!0,immediate:!0,handler(){this.getList()}},languageId(e){e!==""&&this.getList()}},methods:{async getList(){if(this.isLoading=!0,this.languageId!=="")try{await this.search()}catch(e){this.showExtensionErrors(e),this.$emit("extension-listing-errors",e)}finally{this.isLoading=!1}},async search(){const t=await Shopware.Service("extensionStoreDataService").getExtensionList(Shopware.Store.get("shopwareExtensions").search,{...Shopware.Context.api,languageId:Shopware.Store.get("session").languageId});Shopware.Store.get("shopwareExtensions").extensionListing=t},setPage({limit:e,page:t}){Shopware.Store.get("shopwareExtensions").setSearchValue({key:"limit",value:e}),Shopware.Store.get("shopwareExtensions").setSearchValue({key:"page",value:t})}}};export{n as default};
