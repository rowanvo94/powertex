{% block sw_cms_element_mini_config %}

    <mt-text-field
        v-model="miniTitle"
        label="Mini element title"
        placeholder="Enter a title"
        @update:model-value="changeTitle"
    />

    <mt-text-field
        v-model="miniTitleSize"
        label="Mini element title font size"
        placeholder="1rem"
        @update:model-value="changeTitleSize"
    />

    <mt-text-field
        v-model="miniDescription"
        label="Mini element description"
        placeholder="Enter a description"
        @update:model-value="changeDescription"
    />

    <mt-text-field
        v-model="miniDescriptionSize"
        label="Mini element description font size"
        placeholder=".9rem"
        @update:model-value="changeDescriptionSize"
    />

    <mt-colorpicker
        v-model="miniTextColor"
        color-output="hex"
        label="Mini element text color"
        :alpha="true"
        :z-index="1000"
        @update:model-value="changeTextColor"
    />

    <mt-colorpicker
        v-model="miniBackgroundColor"
        color-output="hex"
        label="Mini element background color"
        :alpha="true"
        :z-index="1000"
        @update:model-value="changeBackgroundColor"
    />

    <mt-text-field
        v-model="miniButtonText"
        label="Mini element button text"
        placeholder="Enter mini button text"
        @update:model-value="changeButtonText"
    />

    <mt-text-field
        v-model="miniButtonText"
        label="Mini element button text"
        placeholder="Enter mini button text"
        @update:model-value="changeButtonText"
    />

    <mt-text-field
        v-model="miniButtonUrl"
        label="Mini element button url"
        placeholder="Enter mini button url"
        @update:model-value="changeButtonUrl"
    />

    <mt-colorpicker
        v-model="miniButtonColor"
        color-output="hex"
        label="Mini element button icon color"
        :alpha="true"
        :z-index="1000"
        @update:model-value="changeButtonColor"
    />

    <mt-colorpicker
        v-model="miniButtonBackgroundColor"
        color-output="hex"
        label="Mini element button background color"
        :alpha="true"
        :z-index="1000"
        @update:model-value="changeButtonBackgroundColor"
    />

    <mt-select
        v-model="element.config.displayMode.value"
        class="sw-cms-el-config-image__display-mode"
        label="Image display mode"
        @update:model-value="onChangeDisplayMode"
        :options="displayModeOptions"
    />

    <div class="sw-cms-el-config-image">
        {% block sw_cms_element_image_config_media_upload %}
            <sw-cms-mapping-field
                    v-model:config="element.config.media"
                    :label="$tc('sw-cms.elements.image.label')"
                    value-types="entity"
                    entity="media"
            >
                <sw-media-upload-v2
                        variant="regular"
                        :upload-tag="uploadTag"
                        :source="previewSource"
                        :allow-multi-select="false"
                        :default-folder="cmsPageState.pageEntityName"
                        :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')"
                        @media-upload-sidebar-open="onOpenMediaModal"
                        @media-upload-remove-image="onImageRemove"
                />

                <template #preview="{ demoValue }">
                    <div class="sw-cms-el-config-image__mapping-preview">
                        <img
                                v-if="demoValue.url"
                                :src="demoValue.url"
                                alt=""
                        >
                        <sw-alert
                                v-else
                                class="sw-cms-el-config-image__preview-info"
                                variant="info"
                        >
                            {{ $tc('sw-cms.detail.label.mappingEmptyPreview') }}
                        </sw-alert>
                    </div>
                </template>
            </sw-cms-mapping-field>

            <sw-upload-listener
                    :upload-tag="uploadTag"
                    auto-upload
                    @media-upload-finish="onImageUpload"
            />
        {% endblock %}

        {% block sw_cms_element_image_config_media_modal %}
            <sw-media-modal-v2
                    v-if="mediaModalIsOpen"
                    variant="full"
                    :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')"
                    :entity-context="cmsPageState.entityName"
                    :allow-multi-select="false"
                    :initial-folder-id="cmsPageState.defaultMediaFolderId"
                    @media-upload-remove-image="onImageRemove"
                    @media-modal-selection-change="onSelectionChanges"
                    @modal-close="onCloseModal"
            />
        {% endblock %}
    </div>
{% endblock %}