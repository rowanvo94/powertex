!function(){function t(){return a.tinymce}var e,n,i,r=[],a="undefined"!=typeof global?global:window,c=a.jQuery;c.fn.tinymce=function(e){var o,l,u,f,p=this,h="";return p.length?e?(p.css("visibility","hidden"),!a.tinymce&&!n&&(o=e.script_url)?(n=1,l=o.substring(0,o.lastIndexOf("/")),-1!=o.indexOf(".min")&&(h=".min"),a.tinymce=a.tinyMCEPreInit||{base:l,suffix:h},-1!=o.indexOf("gzip")&&(u=e.language||"en",o=o+(/\?/.test(o)?"&":"?")+"js=true&core=true&suffix="+escape(h)+"&themes="+escape(e.theme||"modern")+"&plugins="+escape(e.plugins||"")+"&languages="+(u||""),a.tinyMCE_GZ||(a.tinyMCE_GZ={start:function(){function n(e){t().ScriptLoader.markDone(t().baseURI.toAbsolute(e))}n("langs/"+u+".js"),n("themes/"+e.theme+"/theme"+h+".js"),n("themes/"+e.theme+"/langs/"+u+".js"),c.each(e.plugins.split(","),function(t,e){e&&(n("plugins/"+e+"/plugin"+h+".js"),n("plugins/"+e+"/langs/"+u+".js"))})},end:function(){}})),(f=document.createElement("script")).type="text/javascript",f.onload=f.onreadystatechange=function(i){i=i||window.event,2!==n&&("load"==i.type||/complete|loaded/.test(f.readyState))&&(t().dom.Event.domLoaded=1,n=2,e.script_loaded&&e.script_loaded(),d(),c.each(r,function(t,e){e()}))},f.src=o,document.body.appendChild(f)):1===n?r.push(d):d(),p):t()?t().get(p[0].id):null:p;function d(){var n=[],r=0;i||(s(),i=!0),p.each(function(i,a){var c,s=a.id,o=e.oninit;s||(a.id=s=t().DOM.uniqueId()),t().get(s)||(c=t().createEditor(s,e),n.push(c),c.on("init",function(){var e,i=o;p.css("visibility",""),o&&++r==n.length&&("string"==typeof i&&(e=-1===i.indexOf(".")?null:t().resolve(i.replace(/\.\w+$/,"")),i=t().resolve(i)),i.apply(e||t(),n))}))}),c.each(n,function(t,e){e.render()})}},c.extend(c.expr[":"],{tinymce:function(e){var n;return!!(e.id&&"tinymce"in a&&(n=t().get(e.id))&&n.editorManager===t())}});var s=function(){function n(e){"remove"===e&&this.each(function(t,e){var n=s(e);n&&n.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(e,n){var i=t().get(n.id.replace(/_parent$/,""));i&&i.remove()})}function i(e){var i;if(null!=e)n.call(this),this.each(function(n,i){var r;(r=t().get(i.id))&&r.setContent(e)});else if(0<this.length&&(i=t().get(this[0].id)))return i.getContent()}function r(t){return t&&t.length&&a.tinymce&&t.is(":tinymce")}var s=function(e){return e&&e.id&&a.tinymce?t().get(e.id):null},o={};c.each(["text","html","val"],function(t,n){var a=o[n]=c.fn[n],l="text"===n;c.fn[n]=function(t){if(!r(this))return a.apply(this,arguments);if(t!==e)return i.call(this.filter(":tinymce"),t),a.apply(this.not(":tinymce"),arguments),this;var n="",o=arguments;return(l?this:this.eq(0)).each(function(t,e){var i=s(e);n+=i?l?i.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):i.getContent({save:!0}):a.apply(c(e),o)}),n}}),c.each(["append","prepend"],function(t,n){var i=o[n]=c.fn[n],a="prepend"===n;c.fn[n]=function(t){return r(this)?t!==e?("string"==typeof t&&this.filter(":tinymce").each(function(e,n){var i=s(n);i&&i.setContent(a?t+i.getContent():i.getContent()+t)}),i.apply(this.not(":tinymce"),arguments),this):void 0:i.apply(this,arguments)}}),c.each(["remove","replaceWith","replaceAll","empty"],function(t,e){var i=o[e]=c.fn[e];c.fn[e]=function(){return n.call(this,e),i.apply(this,arguments)}}),o.attr=c.fn.attr,c.fn.attr=function(t,n){var a=arguments;if(!t||"value"!==t||!r(this))return o.attr.apply(this,a);if(n!==e)return i.call(this.filter(":tinymce"),n),o.attr.apply(this.not(":tinymce"),a),this;var l=this[0],u=s(l);return u?u.getContent({save:!0}):o.attr.apply(c(l),a)}}}();