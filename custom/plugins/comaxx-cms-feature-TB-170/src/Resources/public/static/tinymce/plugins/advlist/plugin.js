!function(){"use strict";var t,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,n,e){t.execCommand("UL"===n?"InsertUnorderedList":"InsertOrderedList",!1,!1===e?null:{"list-style-type":e})},r=function(t){t.addCommand("ApplyUnorderedListStyle",function(n,r){e(t,"UL",r["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",function(n,r){e(t,"OL",r["list-style-type"])})},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(t){var n=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return n?n.split(/[ ,]/):[]},u=function(t){var n=t.getParam("advlist_bullet_styles","default,circle,square");return n?n.split(/[ ,]/):[]},l=function(t){return function(){return t}},c=function(t){return t},s=l(!1),a=l(!0),d=function(){return f},f={fold:function(t,n){return t()},isSome:s,isNone:a,getOr:c,getOrThunk:t=function(t){return t()},getOrDie:function(t){throw Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:c,orThunk:t,map:d,each:function(){},bind:d,exists:s,forall:a,filter:function(){return d()},toArray:function(){return[]},toString:l("none()")},g=function(t){var n=l(t),e=function(){return o},r=function(n){return n(t)},o={fold:function(n,e){return e(t)},isSome:a,isNone:s,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:e,orThunk:e,map:function(n){return g(n(t))},each:function(n){n(t)},bind:r,exists:r,forall:r,filter:function(n){return n(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},m=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},p=function(t){var n,e=t.dom.getParent(t.selection.getNode(),"ol,ul");return null==(n=t.dom.getStyle(e,"listStyleType"))?f:g(n)},y=function(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return e;return -1},h=function(t,n,e){var r=y(n.parents,m),i=-1!==r?n.parents.slice(0,r):n.parents,u=o.grep(i,function(n){return n&&/^(OL|UL|DL)$/.test(n.nodeName)&&t.$.contains(t.getBody(),n)});return u.length>0&&u[0].nodeName===e},O=function(t,n){return function(e){var r=function(r){e.setActive(h(t,r,n))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}},v=function(t,n,r,i,u,l){t.ui.registry.addSplitButton(n,{tooltip:r,icon:"OL"===u?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(o.map(l,function(t){var n="disc"===t||"decimal"===t?"default":t;return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===u?"num":"bull")+"-"+n,text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()})}}))},onAction:function(){return t.execCommand(i)},onItemAction:function(n,r){e(t,u,r)},select:function(n){return p(t).map(function(t){return n===t}).getOr(!1)},onSetup:O(t,u)})},L=function(t,n,e,r,o,i){t.ui.registry.addToggleButton(n,{active:!1,tooltip:e,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:O(t,o),onAction:function(){return t.execCommand(r)}})},N=function(t,n,e,r,o,i){i.length>1?v(t,n,e,r,o,i):L(t,n,e,r,o)},S=function(t){N(t,"numlist","Numbered list","InsertOrderedList","OL",i(t)),N(t,"bullist","Bullet list","InsertUnorderedList","UL",u(t))};n.add("advlist",function(t){t.hasPlugin("lists")?(S(t),r(t)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();