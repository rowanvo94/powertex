!function(){"use strict";function t(t,e,n){t.execCommand("UL"===e?"InsertUnorderedList":"InsertOrderedList",!1,!1===n?null:{"list-style-type":n})}function e(t){return function(){return t}}function n(t){return t}function r(){return s}var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=e(!1),l=e(!0),s={fold:function(t,e){return t()},isSome:u,isNone:l,getOr:n,getOrThunk:c,getOrDie:function(t){throw Error(t||"error: getOrDie called on none.")},getOrNull:e(null),getOrUndefined:e(void 0),or:n,orThunk:c,map:r,each:function(){},bind:r,exists:u,forall:l,filter:function(){return s},toArray:function(){return[]},toString:e("none()")};function c(t){return t()}function a(t){return t&&/^(TH|TD)$/.test(t.nodeName)}function d(t,e){return function(n){function r(r){var o,u,l;n.setActive((u=-1!==(o=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return -1}(r.parents,a))?r.parents.slice(0,o):r.parents,0<(l=i.grep(u,function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&t.$.contains(t.getBody(),e)})).length&&l[0].nodeName===e))}return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}}function f(e,n,r,o,u,l){1<l.length?e.ui.registry.addSplitButton(n,{tooltip:r,icon:"OL"===u?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(i.map(l,function(t){return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===u?"num":"bull")+"-"+("disc"===t||"decimal"===t?"default":t),text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()})}}))},onAction:function(){return e.execCommand(o)},onItemAction:function(n,r){t(e,u,r)},select:function(t){var n=e.dom.getParent(e.selection.getNode(),"ol,ul");return m(e.dom.getStyle(n,"listStyleType")).map(function(e){return t===e}).getOr(!1)},onSetup:d(e,u)}):e.ui.registry.addToggleButton(n,{active:!1,tooltip:r,icon:"OL"===u?"ordered-list":"unordered-list",onSetup:d(e,u),onAction:function(){return e.execCommand(o)}})}var g=function(t){function n(){return i}function r(e){return e(t)}var o=e(t),i={fold:function(e,n){return n(t)},isSome:l,isNone:u,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(e){return g(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:s},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return i},m=function(t){return null==t?s:g(t)};o.add("advlist",function(e){var n,r;e.hasPlugin("lists")?(f(e,"numlist","Numbered list","InsertOrderedList","OL",(n=e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?n.split(/[ ,]/):[]),f(e,"bullist","Bullet list","InsertUnorderedList","UL",(r=e.getParam("advlist_bullet_styles","default,circle,square"))?r.split(/[ ,]/):[]),e.addCommand("ApplyUnorderedListStyle",function(n,r){t(e,"UL",r["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",function(n,r){t(e,"OL",r["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();