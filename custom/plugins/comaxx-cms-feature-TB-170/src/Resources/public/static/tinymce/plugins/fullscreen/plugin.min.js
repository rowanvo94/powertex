!function(){"use strict";function e(e){var n=e;return{get:function(){return n},set:function(e){n=e}}}function n(e){return function(n){var r;return r=typeof n,(null===n?"null":"object"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===e}}function r(e){return function(n){return typeof n===e}}function t(){}function o(e){return function(){return e}}function i(e){return e}var u=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=n("string"),s=n("array"),a=r("boolean"),l=r("function"),f=r("number");function m(){return v}var d=o(!1),h=o(!0),v={fold:function(e,n){return e()},isSome:d,isNone:h,getOr:i,getOrThunk:g,getOrDie:function(e){throw Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:i,orThunk:g,map:m,each:t,bind:m,exists:d,forall:h,filter:function(){return v},toArray:function(){return[]},toString:o("none()")};function g(e){return e()}function p(n){function r(){return t.get().each(n)}var t=e(k.none());return{clear:function(){r(),t.set(k.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){r(),t.set(k.some(e))}}}function y(){return p(function(e){return e.unbind()})}function w(e,n){for(var r=e.length,t=Array(r),o=0;o<r;o++){var i=e[o];t[o]=n(i,o)}return t}function b(e,n){for(var r=0,t=e.length;r<t;r++)n(e[r],r)}function S(e,n){for(var r=[],t=0,o=e.length;t<o;t++){var i=e[t];n(i,t)&&r.push(i)}return r}function x(e,n){return function(e,n,r){for(var t=0,o=e.length;t<o;t++){var i=e[t];if(n(i,t))return k.some(i);if(r(i,t))break}return k.none()}(e,n,d)}function O(e,n){return -1!==e.indexOf(n)}function E(e){return void 0!==e.style&&l(e.style.getPropertyValue)}var F=function(e){function n(){return i}function r(n){return n(e)}var t=o(e),i={fold:function(n,r){return r(e)},isSome:h,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(n){return F(n(e))},each:function(n){n(e)},bind:r,exists:r,forall:r,filter:function(n){return n(e)?i:v},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},k={some:F,none:m,from:function(e){return null==e?v:F(e)}},T=function(){return(T=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},D=Array.prototype.push,C=Object.keys,A={fromDom:function(e){if(null==e)throw Error("Node cannot be null or undefined");return{dom:e}}};function R(e){return function(n){return n.dom.nodeType===e}}function L(e,n){var r=String(n).toLowerCase();return x(e,function(e){return e.search(r)})}function P(e){return function(n){return O(n,e)}}function M(e){return window.matchMedia(e).matches}function N(e,n){var r=e.dom;if(1!==r.nodeType)return!1;if(void 0!==r.matches)return r.matches(n);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(n);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(n);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(n);throw Error("Browser lacks native selectors")}function W(e){return A.fromDom(e.dom.ownerDocument)}function q(e){var n=ex(e);return ei(n)&&null!=n.dom.host?k.some(n):k.none()}function H(e){return A.fromDom(e.dom.host)}function I(e,n){var r=e.dom.getAttribute(n);return null===r?void 0:r}function j(e,n){e.dom.removeAttribute(n)}function B(e,n){var r=e.dom;!function(e){for(var n,t=C(e),o=0,i=t.length;o<i;o++){var u=t[o];n=e[u],function(e,n,r){if(!c(r))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),Error("CSS value must be a string: "+r);E(e)&&e.style.setProperty(n,r)}(r,u,n)}}(n)}function V(e){function n(){return e.stopPropagation()}function r(){return e.preventDefault()}return{target:A.fromDom((function(e){if(eS()&&null!=e.target){var n=A.fromDom(e.target);if(er(n)&&eO(n)&&e.composed&&e.composedPath){var r=e.composedPath();if(r)return 0<r.length?k.some(r[0]):k.none()}}return k.from(e.target)})(e).getOr(e.target)),x:e.clientX,y:e.clientY,stop:n,prevent:r,kill:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(n.apply(null,e))},raw:e}}function X(e){var n=void 0===e?window:e;return ey().browser.isFirefox()?k.none():k.from(n.visualViewport)}function _(e,n,r,t){return{x:e,y:n,width:r,height:t,right:e+r,bottom:n+t}}function z(e,n,r){return X(r).map(function(r){function t(e){return n(V(e))}return r.addEventListener(e,t),{unbind:function(){return r.removeEventListener(e,t)}}}).getOrThunk(function(){return{unbind:t}})}function U(e,n){e.fire("FullscreenStateChanged",{state:n}),e.fire("ResizeEditor")}function $(e){return e.getParam("fullscreen_native",!1,"boolean")}function K(e){var n;return e.dom===(void 0!==(n=W(e).dom).fullscreenElement?n.fullscreenElement:void 0!==n.msFullscreenElement?n.msFullscreenElement:void 0!==n.webkitFullscreenElement?n.webkitFullscreenElement:null)}function Y(e,n){return function(r){function t(e){return r.setActive(e.state)}return r.setActive(null!==n.get()),e.on("FullscreenStateChanged",t),function(){return e.off("FullscreenStateChanged",t)}}}function G(){return eu(0,0)}function J(e){function n(e){return function(){return r===e}}var r=e.current;return{current:r,version:e.version,isEdge:n("Edge"),isChrome:n("Chrome"),isIE:n("IE"),isOpera:n("Opera"),isFirefox:n(el),isSafari:n("Safari")}}function Q(e){function n(e){return function(){return r===e}}var r=e.current;return{current:r,version:e.version,isWindows:n(em),isiOS:n("iOS"),isAndroid:n(ed),isOSX:n("OSX"),isLinux:n("Linux"),isSolaris:n(eh),isFreeBSD:n(ev),isChromeOS:n(eg)}}"undefined"!=typeof window||Function("return this;")();var Z,ee,en,er=R(1),et=R(3),eo=R(9),ei=R(11),eu=function(e,n){return{major:e,minor:n}},ec={nu:eu,detect:function(e,n){var r,t,o=String(n).toLowerCase();return 0===e.length?G():(t=function(e,n){for(var r=0;r<e.length;r++){var t=e[r];if(t.test(n))return t}}(e,r=o))?eu(i(1),i(2)):{major:0,minor:0};function i(e){return Number(r.replace(t,"$"+e))}},unknown:G},es=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ea={browsers:o([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return O(e,"edge/")&&O(e,"chrome")&&O(e,"safari")&&O(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,es],search:function(e){return O(e,"chrome")&&!O(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return O(e,"msie")||O(e,"trident")}},{name:"Opera",versionRegexes:[es,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:P("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:P("firefox")},{name:"Safari",versionRegexes:[es,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(O(e,"safari")||O(e,"mobile/"))&&O(e,"applewebkit")}}]),oses:o([{name:"Windows",search:P("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return O(e,"iphone")||O(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:P("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:P("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:P("linux"),versionRegexes:[]},{name:"Solaris",search:P("sunos"),versionRegexes:[]},{name:"FreeBSD",search:P("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:P("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},el="Firefox",ef=function(){return J({current:void 0,version:ec.unknown()})},em=(o("Edge"),o("Chrome"),o("IE"),o("Opera"),o(el),o("Safari"),"Windows"),ed="Android",eh="Solaris",ev="FreeBSD",eg="ChromeOS",ep=function(){return Q({current:void 0,version:ec.unknown()})},ey=(o(em),o("iOS"),o(ed),o("Linux"),o("OSX"),o(eh),o(ev),o(eg),Z=function(){var e,n,r,t,i,u,c,s,a,l,f,m,d;return e=navigator.userAgent,n=k.from(navigator.userAgentData),l=ea.browsers(),f=ea.oses(),{browser:m=n.bind(function(e){return function(e){for(var n=0;n<e.length;n++){var r=function(e){var n=e.brand.toLowerCase();return x(l,function(e){var r;return n===(null===(r=e.brand)||void 0===r?void 0:r.toLowerCase())}).map(function(n){return{current:n.name,version:ec.nu(parseInt(e.version,10),0)}})}(e[n]);if(r.isSome())return r}return k.none()}(e.brands)}).orThunk(function(){return L(l,e).map(function(n){var r=ec.detect(n.versionRegexes,e);return{current:n.name,version:r}})}).fold(ef,J),os:d=L(f,e).map(function(n){var r=ec.detect(n.versionRegexes,e);return{current:n.name,version:r}}).fold(ep,Q),deviceType:(r=d.isiOS()&&!0===/ipad/i.test(e),t=d.isiOS()&&!r,u=(i=d.isiOS()||d.isAndroid())||M("(pointer:coarse)"),c=r||!t&&i&&M("(min-device-width:768px)"),s=t||i&&!c,a=m.isSafari()&&d.isiOS()&&!1===/safari/i.test(e),{isiPad:o(r),isiPhone:o(t),isTablet:o(c),isPhone:o(s),isTouch:o(u),isAndroid:d.isAndroid,isiOS:d.isiOS,isWebView:o(a),isDesktop:o(!s&&!c&&!a)})}},en=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return en||(en=!0,ee=Z.apply(null,e)),ee}),ew=function(e){return w(e.dom.childNodes,A.fromDom)},eb=l(Element.prototype.attachShadow)&&l(Node.prototype.getRootNode),eS=o(eb),ex=eb?function(e){return A.fromDom(e.dom.getRootNode())}:function(e){return eo(e)?e:W(e)},eO=function(e){return null!=e.dom.shadowRoot},eE=function(e){var n=et(e)?e.dom.parentNode:e.dom;if(null==n||null===n.ownerDocument)return!1;var r=n.ownerDocument;return q(A.fromDom(n)).fold(function(){return r.body.contains(n)},function(e){return eE(H(e))})},eF=function(e,n,r,t){e.dom.removeEventListener(n,r,t)},ek=function(e,n){return{left:e,top:n,translate:function(r,t){return ek(e+r,n+t)}}},eT=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),eD=tinymce.util.Tools.resolve("tinymce.Env"),eC=tinymce.util.Tools.resolve("tinymce.util.Delay"),eA="data-ephox-mobile-fullscreen-style",eR="position:absolute!important;",eL="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",eP=eD.os.isAndroid(),eM=eT.DOM,eN=X().fold(function(){return{bind:t,unbind:t}},function(e){var n,r=(n=p(t),T(T({},n),{on:function(e){return n.get().each(e)}})),o=y(),i=y(),u=eC.throttle(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame(function(){r.on(function(n){return B(n,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})})})},50);return{bind:function(e){r.set(e),u(),o.set(z("resize",u)),i.set(z("scroll",u))},unbind:function(){r.on(function(){o.clear(),i.clear()}),r.clear()}}}),eW=function(e,n){function r(e){e(M,"tox-fullscreen"),e(z,"tox-fullscreen"),e(Y,"tox-fullscreen"),q(G).map(function(e){return H(e).dom}).each(function(n){e(n,"tox-fullscreen"),e(n,"tox-shadowhost")})}function t(){var t,o,i,u;ee&&(t=e.dom,o="["+eA+"]",b(1!==(i=u=document).nodeType&&9!==i.nodeType&&11!==i.nodeType||0===i.childElementCount?[]:w(u.querySelectorAll(o),A.fromDom),function(e){var n=I(e,eA);"no-styles"!==n?B(e,t.parseStyle(n)):j(e,"style"),j(e,eA)})),r(eM.removeClass),eN.unbind(),k.from(n.get()).each(function(e){return e.fullscreenChangeHandler.unbind()})}var o,i,u,m,v,g,p,y,x,O,F,T,C,R,L,P,M=document.body,z=document.documentElement,Y=e.getContainer(),G=A.fromDom(Y),J=q(O=A.fromDom(e.getElement())).map(H).getOrThunk(function(){var e=W(O).dom.body;if(null==e)throw Error("Body is not available yet");return A.fromDom(e)}),Q=n.get(),Z=A.fromDom(e.getBody()),ee=eD.deviceType.isTouch(),en=Y.style,er=e.iframeElement.style;Q?(Q.fullscreenChangeHandler.unbind(),$(e)&&K(J)&&((y=W(J).dom).exitFullscreen?y.exitFullscreen():y.msExitFullscreen?y.msExitFullscreen():y.webkitCancelFullScreen&&y.webkitCancelFullScreen()),er.width=Q.iframeWidth,er.height=Q.iframeHeight,en.width=Q.containerWidth,en.height=Q.containerHeight,en.top=Q.containerTop,en.left=Q.containerLeft,t(),p=Q.scrollPos,window.scrollTo(p.x,p.y),n.set(null),U(e,!1),e.off("remove",t)):(o=W(J),i=void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",u=function(r){$(e)&&(K(J)||null===n.get()||eW(e,n))},m=function(e){h(e)&&u(V(e))},o.dom.addEventListener(i,m,!1),v={unbind:function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var o=n.concat(r);return e.apply(null,o)}}(eF,o,i,m,!1)},g={scrollPos:(L=(R=void 0===(F=window)?window:F).document,P=ek((C=void 0!==(T=A.fromDom(L))?T.dom:document).body.scrollLeft||C.documentElement.scrollLeft,C.body.scrollTop||C.documentElement.scrollTop),X(R).fold(function(){var e=R.document.documentElement,n=e.clientWidth,r=e.clientHeight;return _(P.left,P.top,n,r)},function(e){return _(Math.max(e.pageLeft,P.left),Math.max(e.pageTop,P.top),e.width,e.height)})),containerWidth:en.width,containerHeight:en.height,containerTop:en.top,containerLeft:en.left,iframeWidth:er.width,iframeHeight:er.height,fullscreenChangeHandler:v},ee&&function(e,n,r){function t(n){return function(r){var t=I(r,"style"),o=void 0===t?"no-styles":t.trim();o===n||(function(e,n,r){if(!(c(r)||a(r)||f(r)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",r,":: Element ",e),Error("Attribute value was not simple");e.setAttribute(n,r+"")}(r.dom,eA,o),B(r,e.parseStyle(n)))}}var o,i,u,m,h,v=(h=function(e){return N(e,"*")},S(function(e,n){for(var r=l(n)?n:d,t=e.dom,o=[];null!==t.parentNode&&void 0!==t.parentNode;){var i=t.parentNode,u=A.fromDom(i);if(o.push(u),!0===r(u))break;t=i}return o}(n,void 0),h)),g=function(e){for(var n=[],r=0,t=e.length;r<t;++r){if(!s(e[r]))throw Error("Arr.flatten item "+r+" was not an array, input: "+e);D.apply(n,e[r])}return n}(w(v,function(e){var n,r;return n="*:not(.tox-silver-sink)",r=function(e){return N(e,n)},S(k.from(e.dom.parentNode).map(A.fromDom).map(ew).map(function(n){return S(n,function(n){return e.dom!==n.dom})}).getOr([]),r)})),p=(o="background-color",i=r.dom,void 0!==(m=""!==(u=window.getComputedStyle(i).getPropertyValue(o))||eE(r)?u:E(i)?i.style.getPropertyValue(o):"")&&""!==m?"background-color:"+m+"!important":"background-color:rgb(255,255,255)!important;");b(g,t("display:none!important;")),b(v,t(eR+eL+p)),t((!0===eP?"":eR)+eL+p)(n)}(e.dom,G,Z),er.width=er.height="100%",en.width=en.height="",r(eM.addClass),eN.bind(G),e.on("remove",t),n.set(g),$(e)&&((x=J.dom).requestFullscreen?x.requestFullscreen():x.msRequestFullscreen?x.msRequestFullscreen():x.webkitRequestFullScreen&&x.webkitRequestFullScreen()),U(e,!0))};u.add("fullscreen",function(n){var r,t=e(null);return n.inline||(n.addCommand("mceFullScreen",function(){eW(n,t)}),(r=n).ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:o,onSetup:Y(r,t)}),r.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:o,onSetup:Y(r,t)}),n.addShortcut("Meta+Shift+F","","mceFullScreen")),{isFullscreen:function(){return null!==t.get()}};function o(){return r.execCommand("mceFullScreen")}})}();