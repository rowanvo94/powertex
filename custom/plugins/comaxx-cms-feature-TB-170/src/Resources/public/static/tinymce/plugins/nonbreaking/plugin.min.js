!function(){"use strict";function n(n,e){for(var a="",o=0;o<e;o++)a+=n;return a}function e(e,a){var o=e.getParam("nonbreaking_wrap",!0,"boolean")||e.plugins.visualchars?'<span class="'+(e.plugins.visualchars&&e.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+n("&nbsp;",a)+"</span>":n("&nbsp;",a);e.undoManager.transact(function(){return e.insertContent(o)})}var a=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.VK");a.add("nonbreaking",function(n){var a,t,i;function r(){return a.execCommand("mceNonBreaking")}n.addCommand("mceNonBreaking",function(){e(n,1)}),(a=n).ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:r}),a.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:r}),0<(i="boolean"==typeof(t=n.getParam("nonbreaking_force_tab",0))?!0===t?3:0:t)&&n.on("keydown",function(a){a.keyCode!==o.TAB||a.isDefaultPrevented()||a.shiftKey||(a.preventDefault(),a.stopImmediatePropagation(),e(n,i))})})}();