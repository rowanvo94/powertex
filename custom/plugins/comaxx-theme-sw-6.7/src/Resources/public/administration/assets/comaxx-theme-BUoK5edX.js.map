{"version":3,"file":"comaxx-theme-BUoK5edX.js","sources":["../../../app/administration/src/extension/sw-cms-block/sw-cms-block-layout-config/sw-cms-block-layout-config.html.twig","../../../app/administration/src/extension/sw-cms-block/sw-cms-block-layout-config/index.js"],"sourcesContent":["{% block sw_cms_block_layout_config_css_class %}\n    {% parent %}\n\n    {% block sw_cms_block_layout_config_custom_field %}\n        <!-- Custom Class field -->\n        <mt-text-field v-model=\"myExtraValue\" class=\"sw-cms-sidebar-layout-config__extra\" label=\"Additional class field\" placeholder=\"Custom Class\" />\n    {% endblock %}\n{% endblock %}\n","import template from './sw-cms-block-layout-config.html.twig';\n\nShopware.Component.override('sw-cms-block-layout-config', {\n    template,\n\n    inject: {\n        cmsPageState: {\n            default: null,\n        },\n    },\n\n    props: {\n        block: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    watch: {\n        block: {\n            immediate: true,\n            handler(newBlock) {\n                if (!newBlock) return;\n\n                if (!newBlock.customFields) {\n                    newBlock.customFields = {};\n                }\n\n                if (newBlock.customFields.comaxx_sidebar_custom_text === undefined) {\n                    newBlock.customFields.comaxx_sidebar_custom_text = '';\n                }\n            },\n        },\n    },\n\n    computed: {\n        myExtraValue: {\n            get() {\n                return this.block?.customFields?.comaxx_sidebar_custom_text || '';\n            },\n            set(value) {\n                if (!this.block) return;\n\n                if (!this.block.customFields) {\n                    this.block.customFields = {};\n                }\n\n                this.block.customFields.comaxx_sidebar_custom_text = value;\n\n                // Only update block if cmsPageState is available\n                if (this.cmsPageState?.currentPage) {\n                    const page = this.cmsPageState.currentPage;\n                    const section = page.sections.find((s) => s.blocks.find((b) => b.id === this.block.id));\n                    if (!section) return;\n\n                    const blockIndex = section.blocks.findIndex((b) => b.id === this.block.id);\n                    if (blockIndex !== -1) {\n                        section.blocks[blockIndex] = { ...this.block };\n                    }\n                }\n\n                this.$emit('block-update', this.block);\n            },\n        },\n    },\n\n    created() {\n        console.log('Custom override loaded for sw-cms-block-layout-config');\n    },\n});\n"],"names":["template","newBlock","_a","_b","value","section","s","b","blockIndex"],"mappings":"AAAA,MAAeA,EAAA,iSCEf,SAAS,UAAU,SAAS,6BAA8B,CACtD,SAAAA,EAEA,OAAQ,CACJ,aAAc,CACV,QAAS,IACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,KAAM,OACN,SAAU,EACb,CACJ,EAED,MAAO,CACH,MAAO,CACH,UAAW,GACX,QAAQC,EAAU,CACTA,IAEAA,EAAS,eACVA,EAAS,aAAe,CAAE,GAG1BA,EAAS,aAAa,6BAA+B,SACrDA,EAAS,aAAa,2BAA6B,IAE1D,CACJ,CACJ,EAED,SAAU,CACN,aAAc,CACV,KAAM,CDrClB,IAAAC,EAAAC,ECsCgB,QAAOA,GAAAD,EAAA,KAAK,QAAL,YAAAA,EAAY,eAAZ,YAAAC,EAA0B,6BAA8B,EAClE,EACD,IAAIC,EAAO,CDxCvB,IAAAF,ECyCgB,GAAK,KAAK,MASV,IAPK,KAAK,MAAM,eACZ,KAAK,MAAM,aAAe,CAAE,GAGhC,KAAK,MAAM,aAAa,2BAA6BE,GAGjDF,EAAA,KAAK,eAAL,MAAAA,EAAmB,YAAa,CAEhC,MAAMG,EADO,KAAK,aAAa,YACV,SAAS,KAAMC,GAAMA,EAAE,OAAO,KAAMC,GAAMA,EAAE,KAAO,KAAK,MAAM,EAAE,CAAC,EACtF,GAAI,CAACF,EAAS,OAEd,MAAMG,EAAaH,EAAQ,OAAO,UAAWE,GAAMA,EAAE,KAAO,KAAK,MAAM,EAAE,EACrEC,IAAe,KACfH,EAAQ,OAAOG,CAAU,EAAI,CAAE,GAAG,KAAK,KAAO,EAEtE,CAEgB,KAAK,MAAM,eAAgB,KAAK,KAAK,EACxC,CACJ,CACJ,EAED,SAAU,CACN,QAAQ,IAAI,uDAAuD,CACtE,CACL,CAAC"}