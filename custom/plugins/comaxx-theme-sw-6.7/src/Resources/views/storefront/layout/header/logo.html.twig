{% sw_extends '@Storefront/storefront/layout/header/logo.html.twig' %}

{% set customFields = context.salesChannel.customFields %}
{% set comaxxShowHero = customFields.comaxx_hero_show %}
{% set comaxxHeroLogoMediaId = customFields.comaxx_hero_header_logo %}
{% set isHomepage = controllerAction == 'home' %}

{% if comaxxHeroLogoMediaId is not empty %}
    {% set mediaCollection = searchMedia([comaxxHeroLogoMediaId], context.context) %}
    {% set comaxxHeroLogoMedia = mediaCollection.get(comaxxHeroLogoMediaId) %}
{% else %}
    {% set comaxxHeroLogoMedia = null %}
{% endif %}

{# MOBILE LOGO #}
{% block layout_header_logo_image_mobile %}
    {# {% if comaxxShowHero and isHomepage %}
        {% if comaxxHeroLogoMedia %}
            <img src="{{ comaxxHeroLogoMedia.url|sw_encode_url }}" alt="{{ 'header.logoLink'|trans|striptags }}" class="img-fluid header-logo-main-img" />
        {% endif %}
        {% if comaxxActivateStickyHeader %}
            {% if theme_config('comaxx-sticky-header-logo-mobile') and theme_config('comaxx-sticky-header-logo-mobile') != theme_config('comaxx-sticky-header-logo-desktop') %}
                <source srcset="{{ theme_config('comaxx-sticky-header-logo-mobile')|sw_encode_url }}" media="(max-width: {{ theme_config('breakpoint.md') - 1 }}px)" />
            {% endif %}
        {% endif %}
    {% else %}
        {% if comaxxActivateStickyHeader %}
            {{ parent() }}
            {% if theme_config('comaxx-sticky-header-logo-mobile') and theme_config('comaxx-sticky-header-logo-mobile') != theme_config('comaxx-sticky-header-logo-desktop') %}
                <source srcset="{{ theme_config('comaxx-sticky-header-logo-mobile')|sw_encode_url }}" media="(max-width: {{ theme_config('breakpoint.md') - 1 }}px)" />
            {% endif %}
        {% else %}
            {{ parent() }}
        {% endif %}
    {% endif %} #}
{% endblock %}

{# DESKTOP LOGO #}
{% block layout_header_logo_image_default %}
    {% if comaxxShowHero and isHomepage %}
        {% if comaxxHeroLogoMedia %}
            <img src="{{ comaxxHeroLogoMedia.url|sw_encode_url }}" alt="{{ 'header.logoLink'|trans|striptags }}" class="img-fluid header-logo-main-img hero-logo" />
        {% endif %}
        {% if comaxxActivateStickyHeader and theme_config('comaxx-sticky-header-logo-desktop') %}
            <img src="{{ theme_config('comaxx-sticky-header-logo-desktop')|sw_encode_url }}"
                alt="{{ 'header.logoLink'|trans|striptags }}"
                class="img-fluid header-logo-main-img d-none sticky-desktop" />
        {% endif %}
    {% else %}
        {% if comaxxActivateStickyHeader and theme_config('comaxx-sticky-header-logo-desktop') %}
            {{ parent() }}
            <img src="{{ theme_config('comaxx-sticky-header-logo-desktop')|sw_encode_url }}"
                alt="{{ 'header.logoLink'|trans|striptags }}"
                class="img-fluid header-logo-main-img d-none sticky-desktop" />
        {% else %}
            {{ parent() }}
        {% endif %}
    {% endif %}
{% endblock %}
